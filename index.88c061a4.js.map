{"mappings":"gfAAA,IAEMA,GAAO,EAFbC,EAAA,SAEaC,WAYb,SAASC,EAAiBC,GAwC1B,IAA4BC,EACpBC,EAGAC,EACAC,GA3CoB,QAAxBJ,EAAIK,OAAOC,UACXN,EAAIK,OAAOE,UAAUC,SAAS,+BAE9BZ,EAAKa,mBAAmBF,UAAUG,OAAO,sBAG3Cd,EAAKe,gBAAgBC,mBACnB,cA+BwBX,EA9BLD,EAAIK,OA+BnBH,EAAUD,EAAQY,WAAWC,cACjC,8BAEIX,EAAOF,EAAQY,WAAWC,cAAc,4BACxCV,EAAQH,EAAQY,WAAWC,cAAc,OACxC,uCAAoGC,OAA7Db,EAAQc,YAAY,2CAAuGD,OAA9DZ,EAAKa,YAAY,+CAA8DD,OAAjBX,EAAMa,IAAI,SAAiBF,OAAVX,EAAMc,IAAI,QAjCpMtB,EAAKuB,KAAKC,MAAMC,eAAiB,OAEjC,IAAMC,EAAUC,SAASC,gBAAgBJ,MAAMK,iBAAiB,cAChEF,SAASG,KAAKN,MAAMO,SAAW,QAC/BJ,SAASG,KAAKN,MAAMQ,IAAM,IAAYb,OAARO,GAC9BC,SAASG,KAAKN,MAAMS,MAAQ,OAE5BC,OAAOC,iBAAiB,UAAWC,GACnCpC,EAAKa,mBAAmBsB,iBAAiB,QAASE,GA4BpD,SAASD,EAAWhC,GAClB,GAAgB,WAAZA,EAAIkC,IAAkB,CACxB,IAAMR,EAAOH,SAASG,KAChBJ,EAAUI,EAAKN,MAAMQ,IAC3BF,EAAKN,MAAMO,SAAW,GACtBD,EAAKN,MAAMQ,IAAM,GACjBE,OAAOK,SAAS,GAA8B,EAA3BC,SAASd,GAAW,MAEvC1B,EAAKuB,KAAKC,MAAMC,eAAiB,SAEjCzB,EAAKa,mBAAmBF,UAAU8B,IAAI,sBACtCzC,EAAKe,gBAAgB2B,UAAY,GAGnCR,OAAOS,oBAAoB,UAAWP,GACtCpC,EAAKa,mBAAmB8B,oBAAoB,QAASN,GAGvD,SAASA,EAAqBjC,GAC5B,GAAKA,EAAIK,OAAOE,UAAUC,SAAS,YAAnC,CAEA,IAAMkB,EAAOH,SAASG,KAChBJ,EAAUI,EAAKN,MAAMQ,IAC3BF,EAAKN,MAAMO,SAAW,GACtBD,EAAKN,MAAMQ,IAAM,GACjBE,OAAOK,SAAS,GAA8B,EAA3BC,SAASd,GAAW,MAEvC1B,EAAKuB,KAAKC,MAAMC,eAAiB,SAEjCzB,EAAKa,mBAAmBF,UAAU8B,IAAI,sBACtCzC,EAAKe,gBAAgB2B,UAAY,GAEjC1C,EAAKa,mBAAmB8B,oBAAoB,QAASN,GACrDH,OAAOS,oBAAoB,UAAWP,IA5FxCpC,EAAK4C,UAAUT,iBAAiB,QAAShC,GACzCH,EAAK6C,aAAaV,iBAAiB,QAAShC,GAC5CH,EAAK8C,SAASX,iBAAiB,SAgC/B,WACE,IAAML,EAAOH,SAASG,KAChBJ,EAAUI,EAAKN,MAAMQ,IAC3BF,EAAKN,MAAMO,SAAW,GACtBD,EAAKN,MAAMQ,IAAM,GACjBE,OAAOK,SAAS,GAA8B,EAA3BC,SAASd,GAAW,MAEvC1B,EAAKuB,KAAKC,MAAMC,eAAiB,SAEjCzB,EAAKa,mBAAmBF,UAAU8B,IAAI,sBACtCzC,EAAKe,gBAAgB2B,UAAY,GAEjC1C,EAAKa,mBAAmB8B,oBAAoB,QAASN,GACrDH,OAAOS,oBAAoB,UAAWP,MA5CxCF,OAAOC,iBAAiB,UAAU,WAChCR,SAASC,gBAAgBJ,MAAMuB,YAC7B,aACA,GAAkB5B,OAAfe,OAAOR,QAAQ,U","sources":["src/js/technology-modal.js"],"sourcesContent":["import refsList from './refs';\n\nconst refs = refsList();\n\nrefs.container.addEventListener('click', onClickModalOpen);\nrefs.mobContainer.addEventListener('click', onClickModalOpen);\nrefs.closeBtn.addEventListener('click', onBtnClickClose);\nwindow.addEventListener('scroll', () => {\n  document.documentElement.style.setProperty(\n    '--scroll-y',\n    `${window.scrollY}px`\n  );\n});\n\nfunction onClickModalOpen(evt) {\n  if (\n    evt.target.nodeName === 'IMG' ||\n    evt.target.classList.contains('technology__picture-title')\n  ) {\n    refs.technologyBackdrop.classList.remove('backdrop_is-hidden');\n  }\n\n  refs.technologyModal.insertAdjacentHTML(\n    'afterbegin',\n    createModalContent(evt.target)\n  );\n\n  refs.html.style.scrollBehavior = 'auto';\n\n  const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}`;\n  document.body.style.width = '100%';\n\n  window.addEventListener('keydown', onEscClose);\n  refs.technologyBackdrop.addEventListener('click', onBackdropClickClose);\n}\n\nfunction onBtnClickClose() {\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n  refs.html.style.scrollBehavior = 'smooth';\n\n  refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n  refs.technologyModal.innerHTML = '';\n\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n  window.removeEventListener('keydown', onEscClose);\n}\n\nfunction createModalContent(element) {\n  const heading = element.parentNode.querySelector(\n    '.technology__picture-title'\n  );\n  const text = element.parentNode.querySelector('.technology__description');\n  const image = element.parentNode.querySelector('img');\n  return `<h2 class=\"technology-modal__title\">${heading.textContent}</h2><p class=\"technology-modal__text\">${text.textContent}</p><img class=\"technology-modal__img\" src=${image.src} alt=${image.alt}/>`;\n}\n\nfunction onEscClose(evt) {\n  if (evt.key === 'Escape') {\n    const body = document.body;\n    const scrollY = body.style.top;\n    body.style.position = '';\n    body.style.top = '';\n    window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n    refs.html.style.scrollBehavior = 'smooth';\n\n    refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n    refs.technologyModal.innerHTML = '';\n  }\n\n  window.removeEventListener('keydown', onEscClose);\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n}\n\nfunction onBackdropClickClose(evt) {\n  if (!evt.target.classList.contains('backdrop')) return;\n\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n  refs.html.style.scrollBehavior = 'smooth';\n\n  refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n  refs.technologyModal.innerHTML = '';\n\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n  window.removeEventListener('keydown', onEscClose);\n}\n"],"names":["$39b570364f20d797$var$refs","parcelRequire","default","$39b570364f20d797$var$onClickModalOpen","evt","element","heading","text","image","target","nodeName","classList","contains","technologyBackdrop","remove","technologyModal","insertAdjacentHTML","parentNode","querySelector","concat","textContent","src","alt","html","style","scrollBehavior","scrollY","document","documentElement","getPropertyValue","body","position","top","width","window","addEventListener","$39b570364f20d797$var$onEscClose","$39b570364f20d797$var$onBackdropClickClose","key","scrollTo","parseInt","add","innerHTML","removeEventListener","container","mobContainer","closeBtn","setProperty"],"version":3,"file":"index.88c061a4.js.map"}